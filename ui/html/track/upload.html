{{define "content"}}
<div class="flex justify-center items-center min-h-screen bg-gray-100">
  <!-- File Upload Form -->
  <div class="w-full max-w-lg bg-white shadow-md rounded-lg p-8">
    <h2 class="text-2xl font-semibold text-gray-700 mb-6 text-center">Upload a File</h2>

    {{with .Form}}
    <form action="/track/upload" method="POST" enctype="multipart/form-data" class="space-y-6">
      <input type="hidden" name="csrf_token" value="{{$.CSRFToken}}">

      <!-- Drag-and-drop area -->
      <div
        class="flex justify-center items-center p-6 border-2 border-dashed border-gray-300 rounded-md bg-gray-50 hover:bg-gray-100 cursor-pointer"
        id="drop-area">
        <label for="file-upload" class="text-gray-500 font-medium text-center">
          Drag & Drop your file here or
          <span class="text-green-500 hover:text-green-600 cursor-pointer">browse</span>
        </label>
        <input id="file-upload" name="file" type="file" class="hidden" accept=".gpx" />
      </div>

      <!-- File type error message (hidden by default, shown if an invalid file is chosen) -->
      {{with .FieldErrors.Filename}}
      {{range .}}
      <p class="text-red-600 text-sm text-center">{{.}}</p>
      {{end}}
      {{end}}
      <p id="file-error" class="hidden text-red-600 text-sm text-center">Please upload a valid file type.</p>

      <!-- File name preview (hidden by default, shown if a file is chosen) -->
      <p id="file-name" class="text-gray-700 text-center font-medium">{{.Filename}}</p>

      <!-- Submit Button -->
      <button type="submit" id="file-submit"
        class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded-md transition">
        Upload File
      </button>
    </form>
    {{end}}
  </div>
</div>

<!-- Link to External JavaScript File -->
<script src="/static/js/file-upload.js"></script>

{{end}}
